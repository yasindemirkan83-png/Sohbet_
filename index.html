<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sohbet & Görev PWA</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="manifest" href="manifest.json">
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}
body,html{width:100%;height:100%;overflow:hidden;background:black;color:white}

/* SPLASH */
#splash{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10;background:black;display:flex;align-items:center;justify-content:center}
#splash video{width:100%;height:100%;object-fit:cover}

/* LOGIN */
#login{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:black;z-index:9;display:flex;flex-direction:column;align-items:center;justify-content:center;}
#login img{width:120px;cursor:pointer;margin-top:20px}

/* APP */
#app{display:none;position:fixed;top:0;left:0;width:100%;height:100%;}
#bgVideo{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}

/* HEADER */
#header{height:50px;display:flex;justify-content:space-between;align-items:center;padding:10px;background:rgba(0,0,0,0.6)}
#settingsBtn{font-size:24px;cursor:pointer}

/* GÖREV VE MESAJ KART ORANI */
#taskCard{height:60%; overflow-y:auto; margin:10px; padding:15px; border-radius:12px; background:rgba(0,0,0,0.7);}
#chatCard{height:20%; overflow-y:auto; margin:10px; padding:15px; border-radius:12px; background:rgba(0,0,0,0.7);}

/* ALT PANEL */
#taskInputPanel, #msgInputPanel{display:flex;gap:5px;margin:10px}
#taskInputPanel input,#msgInputPanel input{flex:1;padding:8px;border-radius:8px;border:none}
#taskInputPanel button,#msgInputPanel button{padding:8px;border-radius:8px;border:none;background:#1abc9c;color:black;cursor:pointer}

/* SETTINGS */
#settings{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:black;padding:20px;z-index:11}
.btn{padding:10px;margin:5px 0;background:#1abc9c;border:none;border-radius:8px;width:100%}

/* MESAJ BİLGİSİ */
.message-header{font-size:10px;color:#ccc;margin-bottom:2px}
.message-text{font-size:14px}

/* SEÇİM */
.selected{background:rgba(26, 188, 156,0.4)}
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
<video src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/a%C3%A7%C4%B1l%C4%B1%C5%9F%20.mp4" autoplay muted></video>
</div>

<!-- LOGIN -->
<div id="login">
<h2>Giriş için tıklayın</h2>
<img src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/google-symbol.png" id="googleLogin">
</div>

<!-- APP -->
<div id="app">
<video id="bgVideo" src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/uygulamaici.mp4" autoplay muted loop></video>

<div id="header">
<div id="userName">Hoşgeldin</div>
<div id="settingsBtn">⚙️</div>
</div>

<!-- Görevler Kart -->
<div id="taskCard" class="card">
<h3>Görevler</h3>
<ul id="taskList"></ul>
<div id="taskInputPanel">
<input type="text" id="taskInput" placeholder="Görev açıklaması">
<input type="datetime-local" id="taskStart">
<input type="datetime-local" id="taskEnd">
<button onclick="addTask()">Ekle</button>
</div>
</div>

<!-- Mesajlar Kart -->
<div id="chatCard" class="card">
<h3>Mesajlar</h3>
<div id="chatBox"></div>
<div id="msgInputPanel">
<input type="text" id="msgInput" placeholder="Mesaj yaz">
<button onclick="sendMsg()">Gönder</button>
</div>
</div>

<!-- SETTINGS -->
<div id="settings">
<h2>Ayarlar</h2>
<button class="btn" onclick="backHome()">⬅ Geri</button>
<button class="btn" onclick="addAlarm()">Alarm ekle</button>
<button class="btn" onclick="sendFeedback()">Görüş & Öneri</button>
<button class="btn" onclick="logout()">Çıkış</button>
</div>

<script type="module" src="firebaseConfig.js"></script>
<script type="module" src="app.js"></script>
<script>
if('serviceWorker' in navigator){
navigator.serviceWorker.register('service-worker.js').then(()=>console.log('SW Registered'));
}
</script>
</body>
</html>
