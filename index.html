<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ANFA Güvenlik</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
body{background:#000;color:white;overflow:hidden}

/* SPLASH */
#splash{
position:fixed;inset:0;
display:flex;align-items:center;justify-content:center;
flex-direction:column;
z-index:10;
}
#splash video{
position:absolute;inset:0;
width:100%;height:100%;
object-fit:cover;
}
#loginBtn{
width:96px;height:96px;
z-index:2;
cursor:pointer;
margin-top:20px;
}

/* APP */
#app{
display:none;
position:fixed;inset:0;
}

/* APP BACKGROUND */
#appVideo{
position:fixed;inset:0;
width:100%;height:100%;
object-fit:cover;
z-index:-1;
}

/* PANELS */
.panel{
background:rgba(255,255,255,.9);
color:black;
margin:10px;
padding:12px;
border-radius:14px;
}
h3{margin-bottom:8px}

/* SETTINGS */
#settingsBtn{
position:fixed;top:10px;right:10px;
font-size:24px;z-index:5;
cursor:pointer;
}
#settings{
display:none;
position:fixed;inset:0;
background:white;color:black;
padding:20px;
z-index:6;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
<video autoplay muted loop playsinline>
<source src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/InShot_20260130_145437574.mp4" type="video/mp4">
</video>

<img id="loginBtn"
src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/google-symbol.png">
</div>

<!-- APP -->
<div id="app">

<video id="appVideo" autoplay muted loop playsinline>
<source src="https://raw.githubusercontent.com/yasindemirkan83-png/Sohbet_/main/InShot_20260130_145437574.mp4" type="video/mp4">
</video>

<div id="settingsBtn">⚙️</div>

<div class="panel">
<h3>Görevler</h3>
<input id="taskInput" placeholder="Görev">
<button onclick="addTask()">Ekle</button>
<div id="taskList"></div>
</div>

<div class="panel">
<h3>Mesajlar</h3>
<input id="msgInput" placeholder="Mesaj">
<button onclick="sendMsg()">Gönder</button>
<div id="msgList"></div>
</div>

<div class="panel">
<h3>Takvim</h3>
<div id="calendar"></div>
</div>

</div>

<!-- SETTINGS -->
<div id="settings">
<h3>Ayarlar</h3>
<p id="userInfo"></p>
<button onclick="logout()">Çıkış</button>
<br><br>
<button onclick="closeSettings()">Geri</button>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
apiKey: "AIzaSyDE5-fq9ifhtBlXTVOR1PhzD3XuVOWSVeE",
authDomain: "studio-3972799448-609d1.firebaseapp.com",
databaseURL: "https://studio-3972799448-609d1-default-rtdb.firebaseio.com",
projectId: "studio-3972799448-609d1",
storageBucket: "studio-3972799448-609d1.firebasestorage.app",
messagingSenderId: "210449601127",
appId: "1:210449601127:web:b3339666a09822b40c7ac2"
};
firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.database();

/* LOGIN */
loginBtn.onclick = ()=>{
const provider = new firebase.auth.GoogleAuthProvider();
auth.signInWithPopup(provider);
};

auth.onAuthStateChanged(user=>{
if(user){
splash.style.display="none";
app.style.display="block";
userInfo.innerText = user.email;
loadTasks();
loadMsgs();
}
});

/* TASKS */
function addTask(){
let val = taskInput.value;
if(!val) return;
db.ref("tasks").push(val);
taskInput.value="";
}
function loadTasks(){
db.ref("tasks").on("value",snap=>{
taskList.innerHTML="";
snap.forEach(s=>{
let d=document.createElement("div");
d.innerText=s.val();
taskList.appendChild(d);
});
});
}

/* MSG */
function sendMsg(){
let val = msgInput.value;
if(!val) return;
db.ref("messages").push(val);
msgInput.value="";
}
function loadMsgs(){
db.ref("messages").on("value",snap=>{
msgList.innerHTML="";
snap.forEach(s=>{
let d=document.createElement("div");
d.innerText=s.val();
msgList.appendChild(d);
});
});
}

/* SETTINGS */
settingsBtn.onclick=()=>settings.style.display="block";
function closeSettings(){settings.style.display="none";}
function logout(){auth.signOut();location.reload();}
</script>

</body>
</html>
