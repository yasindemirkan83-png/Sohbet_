<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ANFA GÃ¼venlik</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="manifest" href="manifest.json">

<style>
:root{
--bg-primary:#ffffff;
--bg-secondary:#f0f0f0;
--bg-tertiary:#e0e0e0;
--color-primary:#000000;
--color-success:#10b981;
--color-warning:#fbbf24;
--color-text:#000000;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',system-ui,sans-serif}
body{
  min-height:100vh;
  margin:0;
  padding:0;
  color:var(--color-text);
  font-family:'Segoe UI',sans-serif;
}

/* VIDEO ARKA PLAN */
#bgVideo{
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}

/* GÄ°RÄ°Åž LOGO */
#loginLogo{
  position:absolute;
  top:20px;
  right:20px;
  width:60px;
  height:60px;
  cursor:pointer;
  z-index:10;
}
#loginLogo img{
  width:100%;
  height:100%;
}

/* UYGULAMA Ä°Ã‡Ä° KODLAR Ä°Ã‡Ä°N GÃ–RÃœNME */
#appContent{display:none;}
</style>
</head>
<body>

<!-- VIDEO ARKA PLAN -->
<video autoplay muted loop id="bgVideo">
  <source src="https://github.com/yasindemirkan83-png/Sohbet_/blob/main/InShot_20260130_145437574.mp4?raw=true" type="video/mp4">
</video>

<!-- GÄ°RÄ°Åž LOGO -->
<div id="loginLogo" onclick="login()">
  <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google G">
</div>

<!-- MEVCUT UYGULAMA Ä°Ã‡ERÄ°ÄžÄ° -->
<div id="appContent">

<!-- HEADER -->
<div class="header">
<div class="logo-container">
<div class="logo-text">ANFA GÃœVENLÄ°K</div>
</div>
<div id="date"></div>
<div id="time"></div>
</div>

<!-- HOÅžGELDÄ°N MESAJI -->
<div class="section" id="welcomeCard" style="display:none;">
<b id="welcomeText"></b>
</div>

<!-- AYARLAR PANELÄ° -->
<div id="settings">
<h3>Ayarlar</h3>
<div id="adminPanel"></div>
<hr>
<div>
<button onclick="toggleAlarmPanel()">Alarmlar</button>
<div id="alarmPanel" style="display:none;"></div>
</div>
<hr>
<div>
<h4>GÃ¶rÃ¼ÅŸ & Ã–neri</h4>
<textarea id="feedback"></textarea>
<button onclick="sendFeedback()">GÃ¶nder</button>
</div>
<button onclick="closeSettings()">Geri</button>
</div>

<!-- GÃ–REV PANOSU -->
<div class="section" id="taskPanel" style="display:none;">
<h3>GÃ¶revler</h3>
<div id="taskList"></div>
<div class="action-buttons">
<input id="title" placeholder="GÃ¶rev">
<input type="datetime-local" id="start">
<input type="datetime-local" id="end">
<button onclick="addTask()">Ekle</button>
<button onclick="deleteTask()">Sil</button>
<button onclick="markDone()">TamamlandÄ±</button>
<button onclick="setAlarm()">Alarm</button>
</div>
</div>

<!-- MESAJ PANELÄ° -->
<div class="section" id="messagePanel" style="display:none;">
<h3>Mesajlar</h3>
<div id="messages"></div>
<div class="action-buttons">
<input id="msgText" placeholder="Mesaj">
<button onclick="sendMsg()">GÃ¶nder</button>
<button onclick="deleteSelectedMsg()">Sil</button>
</div>
</div>

<!-- TAKVÄ°M PANELÄ° -->
<div class="section" id="takvimSection" style="display:none;">
<button class="toggle-btn" onclick="toggleTakvim()">ðŸ“… Ã‡ALIÅžMA TAKVÄ°MÄ°</button>
<div id="takvimPanel" style="display:none">
<div class="section-title">Vardiya SeÃ§imi</div>
<div class="vardiya-buttons">
<button class="vardiya-btn" data-v="1">1. Vardiya</button>
<button class="vardiya-btn" data-v="2">2. Vardiya</button>
<button class="vardiya-btn" data-v="3">3. Vardiya</button>
<button class="vardiya-btn" data-v="4">4. Vardiya</button>
</div>
<br>
<div style="display:flex;justify-content:space-between">
<button onclick="prevMonth()">â—€</button>
<b id="monthTitle"></b>
<button onclick="nextMonth()">â–¶</button>
</div>
<div class="weekdays">
<div>Pzt</div><div>Sal</div><div>Ã‡ar</div><div>Per</div><div>Cum</div><div>Cts</div><div>Paz</div>
</div>
<div class="calendar-grid" id="calendar"></div>
<div class="summary">
<div><div class="summary-value" id="dayCount">0</div>GÃ¼ndÃ¼z</div>
<div><div class="summary-value" id="nightCount">0</div>Gece</div>
<div><div class="summary-value" id="offCount">0</div>Ä°zin</div>
</div>
</div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// FIREBASE CONFIG VE MEVCUT FONKSÄ°YONLAR
const firebaseConfig = {
apiKey: "AIzaSyDE5-fq9ifhtBlXTVOR1PhzD3XuVOWSVeE",
authDomain: "studio-3972799448-609d1.firebaseapp.com",
databaseURL: "https://studio-3972799448-609d1-default-rtdb.firebaseio.com",
projectId: "studio-3972799448-609d1",
storageBucket: "studio-3972799448-609d1.firebasestorage.app",
messagingSenderId: "210449601127",
appId: "1:210449601127:web:b3339666a09822b40c7ac2"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.database();

let userEmail="", userName="", selectedTask=null, selectedMsg=null;
const ADMIN="yasindemirkan83@gmail.com";

// SAAT
function tick(){
const n=new Date();
document.getElementById("time").innerText=n.toLocaleTimeString("tr-TR");
document.getElementById("date").innerText=n.toLocaleDateString("tr-TR",{weekday:'long',day:'numeric',month:'long',year:'numeric'});
}
setInterval(tick,1000); tick();

// GÄ°RÄ°Åž
function login(){
let provider=new firebase.auth.GoogleAuthProvider();
auth.signInWithPopup(provider).then(res=>{
userEmail=res.user.email;
userName=res.user.displayName || res.user.email.split('@')[0];
document.getElementById("appContent").style.display="block";
document.getElementById("loginLogo").style.display="none";
document.getElementById("welcomeCard").style.display="block";
document.getElementById("welcomeText").innerText=`HOÅžGELDÄ°N ${userName.toUpperCase()}`;
document.getElementById("taskPanel").style.display="block";
document.getElementById("messagePanel").style.display="block";
document.getElementById("takvimSection").style.display="block";
if(userEmail==ADMIN){document.getElementById("adminPanel").innerHTML="<b>ADMIN</b>";}
loadTasks(); loadMessages();
});
}

// DiÄŸer gÃ¶rev, mesaj, takvim, ayarlar scriptleri Ã¶nceki kod ile aynÄ± kalÄ±yor
</script>

<script>
if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js');}
</script>

</body>
</html>
