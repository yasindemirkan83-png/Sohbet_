<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Uygulama Arayüzü</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <style>
    body { margin:0; overflow:hidden; }
    #loginScreen, #mainScreen { position:absolute; top:0; left:0; width:100%; height:100%; }
    #loginScreen { z-index:10; }
    #loginScreen video { object-fit:cover; width:100%; height:100%; }
    #loginScreen #googleBtn {
      position:absolute; top:20px; right:20px;
      cursor:pointer; width:40px; height:40px;
    }
    #mainScreen { display:none; background:black; color:black; padding:20px; box-sizing:border-box; }
    .card {
      background:white; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.1);
      color:black; text-transform:uppercase; margin-bottom:20px; padding:16px;
    }
    #settingsIcon {
      position:absolute; top:20px; right:20px; color:white; font-size:24px; cursor:pointer;
    }
    #settingsMenu {
      position:absolute; top:0; right:0; width:250px; height:100%;
      background:#333; display:none; padding:20px; box-sizing:border-box;
    }
    #backBtn { color:white; cursor:pointer; font-size:18px; margin-bottom:10px; display:inline-block; }
  </style>
</head>
<body>

<!-- Giriş Ekranı -->
<div id="loginScreen">
  <video autoplay loop muted>
    <source src="login-video.mp4" type="video/mp4">
    Tarayıcı video oynatamıyor.
  </video>
  <img id="googleBtn" src="https://developers.google.com/identity/images/g-logo.png" title="G ile Giriş" alt="G" />
</div>

<!-- Ana Ekran (giriş sonrası) -->
<div id="mainScreen">
  <div id="settingsIcon">⚙</div>
  <div id="settingsMenu">
    <div id="backBtn">← ANA EKRAN</div>
    <!-- Ayar seçenekleri buraya -->
  </div>
  <div class="card" id="tasksCard">GÖREVLER: Henüz yüklenmedi.</div>
  <div class="card" id="messagesCard">MESAJLAR: Henüz yüklenmedi.</div>
  <div class="card" id="calendarCard">TAKVİM: Henüz yüklenmedi.</div>
</div>

<script>
  // Firebase yapılandırma (kendi config'inizi buraya ekleyin)
  const firebaseConfig = {
    apiKey: "API_KEY",
    authDomain: "PROJECT_ID.firebaseapp.com",
    projectId: "PROJECT_ID",
    // ... diğer ayarlar
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // Google ile giriş fonksiyonu
  document.getElementById('googleBtn').onclick = function() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider).catch(e => console.error(e));
  };

  // Ayarlar menüsü işlemleri
  document.getElementById('settingsIcon').onclick = function() {
    document.getElementById('settingsMenu').style.display = 'block';
  };
  document.getElementById('backBtn').onclick = function() {
    document.getElementById('settingsMenu').style.display = 'none';
  };

  // Kimlik durumunu dinle
  auth.onAuthStateChanged(user => {
    if (user) {
      // Giriş başarılı: ana ekrana geç
      document.getElementById('loginScreen').style.display = 'none';
      document.getElementById('mainScreen').style.display = 'block';

      // Veritabanından görevleri ve mesajları çek (örnek)
      db.collection('tasks').get().then(snapshot => {
        let tasks = '';
        snapshot.forEach(doc => {
          tasks += doc.data().title + '<br>';
        });
        document.getElementById('tasksCard').innerHTML = 'GÖREVLER:<br>' + tasks;
      });
      db.collection('messages').get().then(snapshot => {
        let msgs = '';
        snapshot.forEach(doc => {
          msgs += doc.data().text + '<br>';
        });
        document.getElementById('messagesCard').innerHTML = 'MESAJLAR:<br>' + msgs;
      });
      // Takvim verilerini çekmek için benzer işlemler yapılır
    } else {
      // Kullanıcı çıkış yaptıysa login ekranına dön
      document.getElementById('loginScreen').style.display = 'block';
      document.getElementById('mainScreen').style.display = 'none';
    }
  });
</script>

</body>
</html>
