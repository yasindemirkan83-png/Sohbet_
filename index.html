<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ANFA GÃ¼venlik</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
--bg-primary:#0f172a;
--bg-secondary:#1e293b;
--bg-tertiary:#334155;
--color-primary:#38bdf8;
--color-success:#10b981;
--color-warning:#fbbf24;
--color-text:#e2e8f0;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',system-ui,sans-serif}
body{background:var(--bg-primary);color:var(--color-text);min-height:100vh;padding:15px;max-width:500px;margin:auto}

/* HEADER */
.header{
background:linear-gradient(135deg,var(--bg-secondary),var(--bg-tertiary));
padding:20px;border-radius:20px;text-align:center;margin-bottom:15px
}
.logo-container{display:flex;justify-content:center;gap:12px;margin-bottom:10px}
.logo-icon{font-size:2.2rem;color:var(--color-primary)}
.logo-text{font-size:1.8rem;font-weight:800;color:var(--color-primary)}
#time{font-size:2.2rem;color:var(--color-primary)}
#date{font-size:.9rem}

/* KART */
.section{background:var(--bg-secondary);padding:15px;border-radius:20px;margin-bottom:15px}
.section-title{color:var(--color-primary);font-size:1.2rem;margin-bottom:10px}

/* AÃ‡ILIR */
.toggle-btn{
width:100%;
background:#334155;
border:none;
border-radius:12px;
padding:10px;
color:#38bdf8;
font-weight:700;
margin-bottom:10px
}

/* TAKVÄ°M */
.vardiya-buttons{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.vardiya-btn{
background:var(--bg-primary);
border:2px solid var(--bg-tertiary);
border-radius:12px;padding:10px;color:white
}
.vardiya-btn.active{border-color:var(--color-success)}

.weekdays{
display:grid;grid-template-columns:repeat(7,1fr);
font-size:.7rem;text-align:center;margin-bottom:5px;color:#94a3b8
}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:5px}
.day{
background:var(--bg-tertiary);
border-radius:8px;
padding:6px;
font-size:.8rem;
text-align:center;
}
.work-day{background:rgba(16,185,129,.4)}
.work-night{background:rgba(56,189,248,.4)}
.off{background:rgba(100,116,139,.4)}
.today{outline:2px solid #38bdf8}

.summary{display:flex;justify-content:space-between;margin-top:10px}
.summary-value{font-size:1.4rem;font-weight:800}
</style>
</head>

<body>

<!-- ÃœST SÄ°STEM (ESKÄ° Ã‡ALIÅžAN YAPI) -->
<div class="header">
<div class="logo-container">
<div class="logo-icon"><i class="fas fa-shield-alt"></i></div>
<div class="logo-text">ANFA GÃœVENLÄ°K</div>
</div>
<div id="date"></div>
<div id="time"></div>
</div>

<div class="section">
<div class="section-title">GÃ¶revler / Mesajlar</div>
<small>Burada senin eski Ã§alÄ±ÅŸan gÃ¶rev ve mesaj sistemin duruyor.</small>
</div>

<!-- ALT KISIM: Ã‡ALIÅžMA TAKVÄ°MÄ° -->
<div class="section">
<button class="toggle-btn" onclick="toggleTakvim()">
ðŸ“… Ã‡ALIÅžMA TAKVÄ°MÄ°
</button>

<div id="takvimPanel" style="display:none">

<div class="section-title">Vardiya SeÃ§imi</div>
<div class="vardiya-buttons">
<button class="vardiya-btn" data-v="1">1. Vardiya</button>
<button class="vardiya-btn" data-v="2">2. Vardiya</button>
<button class="vardiya-btn" data-v="3">3. Vardiya</button>
<button class="vardiya-btn" data-v="4">4. Vardiya</button>
</div>

<br>

<div style="display:flex;justify-content:space-between">
<button onclick="prevMonth()">â—€</button>
<b id="monthTitle"></b>
<button onclick="nextMonth()">â–¶</button>
</div>

<div class="weekdays">
<div>Pzt</div><div>Sal</div><div>Ã‡ar</div><div>Per</div><div>Cum</div><div>Cts</div><div>Paz</div>
</div>

<div class="calendar-grid" id="calendar"></div>

<div class="summary">
<div><div class="summary-value" id="dayCount">0</div>GÃ¼ndÃ¼z</div>
<div><div class="summary-value" id="nightCount">0</div>Gece</div>
<div><div class="summary-value" id="offCount">0</div>Ä°zin</div>
</div>

</div>
</div>

<script>
/* SAAT */
function tick(){
const n=new Date()
time.innerText=n.toLocaleTimeString('tr-TR')
date.innerText=n.toLocaleDateString('tr-TR',{weekday:'long',day:'numeric',month:'long',year:'numeric'})
}
setInterval(tick,1000);tick()

/* AÃ‡ KAPA */
function toggleTakvim(){
takvimPanel.style.display=
takvimPanel.style.display==='none'?'block':'none'
}

/* TAKVÄ°M */
const BASLANGIC=new Date(Date.UTC(2026,0,1))
let secilen=localStorage.getItem("vardiya")||1
let currentYear=new Date().getFullYear()
let currentMonth=new Date().getMonth()

document.querySelectorAll('.vardiya-btn').forEach(b=>{
if(b.dataset.v==secilen) b.classList.add("active")
b.onclick=()=>{
document.querySelectorAll('.vardiya-btn').forEach(x=>x.classList.remove('active'))
b.classList.add('active')
secilen=b.dataset.v
localStorage.setItem("vardiya",secilen)
draw()
}
})

function vardiya(t){
const gunFarki=Math.floor(
(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()) -
 Date.UTC(2026,0,1)) / 86400000
) % 4

const duzen=[
['gece','izin','izin','gunduz'],
['izin','izin','gunduz','gece'],
['izin','gunduz','gece','izin'],
['gunduz','gece','izin','izin']
]
return duzen[(gunFarki+4)%4]
}

function draw(){
calendar.innerHTML=''
let g=0,n=0,o=0
const today=new Date()
const firstDay=(new Date(currentYear,currentMonth,1).getDay()+6)%7
const days=new Date(currentYear,currentMonth+1,0).getDate()

monthTitle.innerText=new Date(currentYear,currentMonth)
.toLocaleDateString('tr-TR',{month:'long',year:'numeric'})

for(let i=0;i<firstDay;i++){
calendar.appendChild(document.createElement('div'))
}

for(let i=1;i<=days;i++){
const date=new Date(currentYear,currentMonth,i)
const v=vardiya(date)[secilen-1]
const d=document.createElement('div')
d.className='day '+(v==='gunduz'?'work-day':v==='gece'?'work-night':'off')
if(date.toDateString()===today.toDateString()) d.classList.add('today')
d.innerText=i
calendar.appendChild(d)
v==='gunduz'?g++:v==='gece'?n++:o++
}
dayCount.innerText=g
nightCount.innerText=n
offCount.innerText=o
}

function nextMonth(){currentMonth++;if(currentMonth>11){currentMonth=0;currentYear++}draw()}
function prevMonth(){currentMonth--;if(currentMonth<0){currentMonth=11;currentYear--}draw()}

draw()
</script>

</body>
</html>
